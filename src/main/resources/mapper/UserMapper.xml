<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!--mybatis-3-mapper.dtd:约束文件的名称，限制和检查在当前文件中出现的标签和属性符合mybatis的要求-->
<!--namespace：命名空间，要有唯一的值，要求使用dao接口的权限定名称（一个dao接口对应一个mapper，namespace指明对应哪个dao接口）-->
<mapper namespace="com.dy.dyweb.mapper.UserMapper">
    <!-- 所有的数据库操作都要写在mapper标签中，可以使用特定的标签表示数据库中的特定操作 -->
    <select id="login"  parameterType="UserDao" resultType="UserDao" >
        select * from User where phone = #{phone} and password = #{password}
    </select>

    <insert id="register" parameterType="UserDao">
        insert into User(user_id, username, password, user_pic, phone, sex, age, profile) values
               (0, #{username}, #{password}, #{userPic}, #{phone}, #{sex}, #{age}, #{profile})
    </insert>

    <select id="selectUser" parameterType="Long" resultType="UserDao">
        select * from User where user_id = #{userId}
    </select>

    <select id="selectUserByPhone" parameterType="String" resultType="UserDao">
        select * from User where phone = #{phone}
    </select>
</mapper>